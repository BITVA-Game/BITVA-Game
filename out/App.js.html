<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: App.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: App.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { Component } from 'react';
import './css/App.css';
import WebFont from 'webfontloader';

import StartScreen from './StartScreen';
import HeroSelection from './HeroSelection';
import VersusScreen from './VersusScreen';
import GameScreen from './GameScreen';

// Import electron and establis connection to use app.js as Renderer
const electron = window.require('electron');
const ipcRenderer = electron.ipcRenderer;

/**
 * send Message "message"
 *
 * @param {string} msg message we receive.
 * @returns {function} that send message msg to channel 'APP'
 */
function sendMessage(msg) {
    ipcRenderer.send('APP', msg);
}

/**
 * @class App
 * @property constructor
 * @default initial state with screen set to 'loading'
 * @return {function} to send messages
 */

class App extends Component {
    // Set the initial state, before contacting backend.
    // Bind the function to send messages
    constructor(props) {
        super(props);
        this.state = { app: { manager: { screen: 'loading' } } };
    }

    /**
 * mount backend GSO to state
 *
 * @param {none} none
 * @returns {function} that listen to channel 'APP'
 * @param {string} channel 'APP' with param 'event', arg
 * @returns {function} that setState
 * @param {object} app
 * @returns {object} arg
 * @returns {function} to send message
 * @param {string} 'Init'
 */
    // When the page loads, get GSO from backend, save it to state.
    componentDidMount() {
        ipcRenderer.on('APP', (event, arg) => {
            this.setState({ app: arg });
        });
        sendMessage('Init');
    }

    /**
 * show Application
 *
 * @param {none} none
 * @returns {function} that set state of application manager screen by switch
 * @default 'UNKNOWN SCREEN NAME' + current application manager screen
 */
    showApplication() {
        switch (this.state.app.manager.screen) {
        case 'loading':
            return 'LOADING';
        case 'STARTSCREEN':
            return &lt;StartScreen sendMessage={sendMessage} app={this.state.app} />;
        case 'HEROSELECT':
            return &lt;HeroSelection sendMessage={sendMessage} app={this.state.app} />;
        case 'VERSUS':
            return &lt;VersusScreen sendMessage={sendMessage} app={this.state.app} />;
        case 'PLAYERACT':
            return &lt;GameScreen sendMessage={sendMessage} app={this.state.app} />;
        default:
            return `UNKNOWN SCREEN NAME ${this.state.app.manager.screen}`;
        }
    }

    /**
 * render
 *
 * @param {none} none
 * @returns {function} that load fonts from Web: 'Ruslan Display', 'Sedan SC'
 * @returns {function} that return to DOM show Application function
 */
    render() {
        console.log(this.state.app.manager.screen);
        console.log("Here's the app object for testing");
        console.log(this.state.app);
        WebFont.load({
            custom: {
                families: ['Ruslan Display', 'Sedan SC'],
                urls: ['/fonts/RuslanDisplay.css', '/fonts/Sedan-SC.css'],
            },
        });
        return (
            &lt;div className="App">
                {this.showApplication()}
            &lt;/div>
        );
    }
}

export default App;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="App.html">App</a></li></ul><h3>Global</h3><ul><li><a href="global.html#sendMessage">sendMessage</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Nov 27 2018 21:44:02 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
